<html>
<head>
<title>Eager Feet ~ Export Data from Nike+</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js" type="text/javascript"></script>
<style>
#progress {
	display: none;
}
</style>
<script type="text/javascript">
function lookup() {
	$('#progress').show();
	$.get('http://eagerfeet.org/api/runs/'+$('#userID')[0].value, function(data) {
		$('#progress').hide();
		if (data.code == 0) {
			var runs = $('#runs')[0];
			data.runs.forEach(function(run) {
				runs.innerHTML += "<p>"+run.startTime+", "+run.distance+" mi</p>";
			});
		} else {
			$('#runs')[0].innerHTML = "<p>Error: "+data.message+"</p>";
		}
	})
	.error(function() {
		$('#runs')[0].innerHTML = "<p>Error: Server is down, please try again later.</p>";
		$('#progress').hide();
	});
}
</script>
</head>
<body>
<form>
<input type="text" name="userID" id="userID" value="" />
<input type="button" onclick="lookup()" value="Submit" />
</form>
<div id="progress"><img src="progress-spinner.gif" width="32" height="32"></div>
<div id="runs"></div>
</body>
</html>